import { Meta, Story, Canvas } from '@storybook/addon-docs';
import Modal from './../modal';
import { useState } from 'react';

<Meta
    title="Example/Modal"
    component={MaskBg}
    argTypes={{
        opacity: { control: { type: 'number', min: 0, max: 100, step: 5 } },
        visible: { control: 'boolean' },
        bgColor: {
            control: {
                type: 'color',
                presetColors: ['#000', '#fff']
            }
        },
        onClick: { action: 'onClick' }
    }}
/>

# 弹窗组件

## 基础用法

```tsx
import { Modal } from 'dream-components/modal';

export const MyComponent = (args) => {
    return <Modal visible={true} />;
};
```

export const Modal = (args) => {
    let [visible, setVisible] = useState(false);
    args['visible'] = visible;
    console.log('args', args);
    return (
        <div>
            <div>这里是一些背景文字</div>
            <div>这里是一些背景文字</div>
            <Modal {...args} />
            {visible ? (
                <div
                    style={{
                        position: 'absolute',
                        bottom: '40%',
                        left: '50%'
                    }}
                >
                    <button
                        onClick={() => {
                            setVisible(false);
                            console.log('关闭弹窗');
                        }}
                    >
                        关闭弹窗
                    </button>
                </div>
            ) : (
                <div>
                    <button
                        onClick={() => {
                            setVisible(true);
                        }}
                    >
                        打开弹窗
                    </button>
                </div>
            )}
        </div>
    );
};

<Canvas>
    <Story
        name="Basic"
        args={{
            bgColor: '#f00',
            opacity: 20,
            visible: true
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## 关闭事件和关闭回调

```tsx
import { MaskBg } from 'dream-components/maskbg';

export const MyComponent = (args) => {
    return <Mask visible={true} opacity={70} />;
};
```

;
